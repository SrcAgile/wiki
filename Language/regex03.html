<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <script type="text/x-mathjax-config">
       MathJax.Hub.Config({
         tex2jax: {inlineMath: [['$(',')$'], ['\\(','\\)']]}
       });
    </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <style type="text/css">.coll_list a{color:green!important;}
    .toc{
      color:green;
      background-color: rgba(0,0,0,0.5)!important;
    }
    #header a{
      color: red!important;
      font: bold;
    }
    pre{
      background-color: rgba(0,0,0,0.5)!important;
    }
    code{
      background-color: rgba(0,0,0,0.5)!important;
    }
    textarea{
      background-color: rgba(0,0,0,0.5)!important;
    }
</style>
    <title>正则[R|P]编程 - Meta's Wiki</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body style="margin: 0px;
    padding: 0px;">
    <img id="bg" style="width: 100%;
    height: 100%;
    top: 0px;
    left: 0px;
    position: fixed;
    overflow:auto;
    z-index: -1;" src="https://s1.ax1x.com/2018/03/03/9yiaUH.jpg" />
    <div id="container" style="color:yellow;background-color: rgba(0,0,0,0.8);">
      
<div id="header">
  <div class="post-nav"><a href="/wiki/">Home</a>&nbsp;&#187;&nbsp;<a href="/wiki/#Language">Language</a>&nbsp;&#187;&nbsp;正则[R|P]编程
    <span class="updated">Page Updated&nbsp;
      2017-09-08 21:00:00
    </span></div>
  
</div>
<div class="clearfix"></div>

<div class="page_title">正则[R|P]编程</div>
<!-- <b>更改颜色：</b><input style="margin-left: 0px" type="color" id="onchange"> -->
  <p><strong>文档状态：</strong><a style="color:red;background-color:gray">思索中....</a></p>
<hr />
<ul>
<li><strong>今日音乐</strong><br />
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=286999&auto=0&height=66"></iframe></li>
</ul>
<hr />
<blockquote>
<p>规律之外,无语无言</p>
</blockquote>
<hr />
<div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#perl">perl</a><ul>
<li><a href="#904">9/04更新</a></li>
<li><a href="#918">9/18更新</a></li>
</ul>
</li>
</ul>
</div>
<h3 id="perl">perl</h3>
<h4 id="904">9/04更新</h4>
<hr />
<p>简单掌握</p>
<ul>
<li>
<p>变量的特殊性 <code>$variable</code>，面临引号输出也不会解体,除非转义</p>
</li>
<li>
<p>运算符的特殊性</p>
<ul>
<li>=～ <code>匹配</code></li>
<li>==  <code>相等</code></li>
<li>=   <code>赋值</code></li>
</ul>
</li>
<li>编码运行</li>
</ul>
<div class="hlcode"><pre><span class="k">print</span> <span class="s">&quot;welcome to use perl test \n&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="s">&quot;please input the value:\n&quot;</span><span class="p">;</span>
<span class="nv">$well</span><span class="o">=</span><span class="sr">&lt;STDIN&gt;</span><span class="p">;</span>
<span class="nb">chomp</span><span class="p">(</span><span class="nv">$well</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$well</span> <span class="o">=~</span><span class="sr"> /^[0-9]+$/</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">print</span> <span class="s">&quot;你是数字\n&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span><span class="p">{</span>
    <span class="k">print</span> <span class="s">&quot;不是数字\n&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<div class="hlcode"><pre>&gt;&gt;&gt; perl -w <span class="nb">test</span>
&gt;&gt;&gt; welcome to use perl <span class="nb">test</span>
<span class="nb">    </span>please input the value:
    101
    你是数字
&gt;&gt;&gt;
</pre></div>


<h4 id="918">9/18更新</h4>
<hr />
<p><strong>注意精通regex  p49总结</strong></p>
<div class="hlcode"><pre><span class="sr">s/regex/replacement/i</span> <span class="err">忽略大小写的替换</span>
<span class="sr">s/regex/replacement/g</span> <span class="err">所有行都进行替换</span>
<span class="sr">m/regex/i</span><span class="err">或者</span><span class="n">g</span> <span class="n">m</span><span class="err">可以不用加</span><span class="p">,</span> <span class="err">意会即可</span>
</pre></div>


<p>任务来了,老板给了一个超级大的文件,是的html文件(然而所有的代码都挤在了一块),他说让我让这个文档层次感显示,小意思,我去做,但是<b>mmp</b>914行,本来我说使用<b>notepad++</b>毕竟能匹配括号,但是这并没有卵用啊,914行,所以说我只能借助正则婊了,但是完全不会用啊摔!那么只能先使用perl把标签分出来,让其单行显示</p>
<p><b style='color:red'>v0.01</b></p>
<div class="hlcode"><pre><span class="n">meta</span><span class="nv">@meta$</span>  <span class="nv">perl</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">i</span> <span class="o">-</span><span class="n">e</span> <span class="s">&#39;s/(&lt;(!| )*([a-z!-])+ *[^&gt;&lt;]*&gt;)/\n\1\n/g&#39;</span> <span class="sr">/home/m</span><span class="n">eta</span><span class="sr">/Desktop/</span><span class="n">a</span><span class="o">.</span><span class="n">html</span>

<span class="n">meta</span><span class="nv">@meta$</span>  <span class="nv">perl</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">i</span> <span class="o">-</span><span class="n">e</span> <span class="s">&#39;s/(&lt;\/ *[^&gt;&lt;]+ *&gt;)/\n\1\n/g&#39;</span> <span class="sr">/home/m</span><span class="n">eta</span><span class="sr">/Desktop/</span><span class="n">a</span><span class="o">.</span><span class="n">html</span>
</pre></div>


<p>真是呵呵,现在的自己好辣鸡,而且还是分两次做完的单行</p>
<p><b>部分解释</b><br />
1. 其实在perl中<code>$1</code>, <code>$2</code>, <code>$3</code>, 可以代替 <code>\1</code>, <code>\2</code>, <code>\3</code>作为捕获文本的<br />
2. 我们都知道正则<code>()</code> 可以用来捕获文本,但是如果不需要捕获,它偏偏捕获了,这样只会肆意拓展$型变量的长度,所以使用了非捕获型规则,即<code>(?:...)</code>, 但凡出现在这个括号里面,都不会被捕获的.</p>
<ol>
<li>那么我现在有一个<b style='color:red'>疑问</b>还没有<del>思考出来</del>实践验证出来, <code>(|)</code> 会 不会被捕获</li>
</ol>
<p><b>Perl参数含义</b></p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">-p</td>
<td align="center">对目标文件的每一行进行查找</td>
</tr>
<tr>
<td align="center">-w</td>
<td align="center">like gdb, 和warning一个意思,打开perl额外警告功能</td>
</tr>
<tr>
<td align="center">-e</td>
<td align="center">表示整个程序接在命令后面[<b style='color:green'>不明觉li</b>]</td>
</tr>
</tbody>
</table>
  <div id="comments"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script type="text/javascript">
  const gitment = new Gitment({
    title: '正则[R|P]编程',
    owner: 'srcagile',
    repo: 'wiki',
    oauth: {
      client_id: '8d3768fea78397a633b8',
      client_secret: 'a79297700926ce00af68c66bc8ad1b06e6389cc0',
    },
    // ...
    // For more available options, check out the documentation below
  })
  gitment.render('comments')
  // or
  // gitment.render(document.getElementById('comments'))
  // or
  // document.body.appendChild(gitment.render())
  </script>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2018 Guozhen Li.
          <a href='https://github.com/srcagile/wiki' style="color:red">Fork me on GitHub</a>
          <span id="cnzz_stat_icon_1256629854">
            <a href="http://www.cnzz.com/stat/website.php?web_id=1256629854" target="_blank" title="站长统计">
              <img border="0" hspace="0" vspace="0" src="http://icon.cnzz.com/img/pic.gif">
            </a>
          </span>
       </p>
        <p>Site Generated 2018-06-28 22:02:54</p>
      </span>
    </div>

    
    
  </body>

</html>

<!-- <script type="text/javascript">
    document.getElementById('onchange').onchange = function(){
        document.getElementById('onchange').click();
        document.body.style.background = this.value;
    };
</script> -->